<!DOCTYPE html>
<html lang="zh-Hant">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>è±¬çš®é€Ÿå ± - ç™¼é€å™¨</title>
    <style>
        body { font-family: sans-serif; display: flex; justify-content: center; align-items: center; height: 100vh; background: #fafafa; margin: 0; }
        .box { background: #fff; padding: 25px; border-radius: 10px; box-shadow: 0 2px 10px rgba(0,0,0,0.1); width: 90%; max-width: 350px; }
        h2 { text-align: center; color: #333; margin-bottom: 20px; }
        input, textarea { width: 100%; padding: 10px; margin: 8px 0; border: 1px solid #ccc; border-radius: 4px; box-sizing: border-box; }
        button { width: 100%; padding: 12px; background: #ff4757; color: white; border: none; border-radius: 4px; cursor: pointer; font-size: 16px; font-weight: bold; }
        button:hover { background: #ff6b81; }
        #result { text-align: center; margin-top: 10px; font-size: 14px; color: #666; }
    </style>
</head>
<body>

<div class="box">
    <h2>ğŸ“¢ è±¬çš®é€Ÿå ±</h2>
    <input type="text" id="t" placeholder="é€šçŸ¥æ¨™é¡Œ" value="è±¬çš®é€Ÿå ±">
    <textarea id="c" rows="4" placeholder="è¼¸å…¥è¦ç™¼é€çš„æ–‡å­—..."></textarea>
    <input type="text" id="u" placeholder="è·³è½‰ç¶²å€ (é¸å¡«)">
    <button onclick="send()">ğŸš€ ç«‹å³å…¨é«”ç™¼é€</button>
    <div id="result"></div>
</div>

<script>
async function send() {
    const t = document.getElementById('t').value;
    const c = document.getElementById('c').value;
    const u = document.getElementById('u').value;
    const r = document.getElementById('result');

    if (!c) return alert("è«‹è¼¸å…¥å…§å®¹");
    r.innerText = "ç™¼é€ä¸­...";

    try {
        const res = await fetch("https://onesignal.com/api/v1/notifications", {
            method: "POST",
            headers: {
                "Content-Type": "application/json; charset=utf-8",
                "Authorization": "Basic os_v2_app_6vfyictugvbhxhlhbnbkiblhpdj3rtm2gquuqqm65wqwxww24svzkdm56l6qxs3jl7lfypxg4pvcbny4ar2js32vhdf6cedfkhf3mfi"
            },
            body: JSON.stringify({
                app_id: "f54b840a-7435-427b-9d67-0b42a4056778",
                included_segments: ["Total Subscriptions"],
                headings: { "zh-Hant": t, "en": t },
                contents: { "zh-Hant": c, "en": c },
                url: u || "https://chung0930.github.io/"
            })
        });

        if (res.ok) {
            r.innerText = "âœ… ç™¼é€æˆåŠŸï¼";
            document.getElementById('c').value = "";
        } else {
            r.innerText = "âŒ ç™¼é€å¤±æ•—ï¼Œè«‹æª¢æŸ¥ API Key";
        }
    } catch (e) {
        r.innerText = "âŒ ç¶²è·¯éŒ¯èª¤";
    }
}
</script>

</body>
</html>
